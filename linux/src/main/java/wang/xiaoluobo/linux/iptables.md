#### iptables config

```sbtshell
# vi /etc/sysconfig/iptables

# Generated by iptables-save v1.3.5 on Wed May 24 10:06:09 2017
*filter
:INPUT DROP [5198:298226]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [52444:24419530]
-A INPUT -i lo -j ACCEPT
-A INPUT -p tcp -m tcp --dport 8000 -j ACCEPT
-A INPUT -p tcp -m tcp --dport 80 -j ACCEPT
#-A INPUT -p tcp -m tcp --dport 9999 -j ACCEPT
-A INPUT -p tcp -m tcp --dport 8999 -j ACCEPT
-A INPUT -p tcp -m tcp --dport 8306 -j ACCEPT
-A INPUT -p tcp -m tcp --dport 8379 -j ACCEPT
-A INPUT -p icmp -m icmp --icmp-type 8 -j ACCEPT
-A INPUT -m state --state ESTABLISHED -j ACCEPT
-A INPUT -s 127.0.0.1 -p tcp -m tcp --dport 8888 -j ACCEPT
-A INPUT -p tcp -m tcp --dport 8888 -j REJECT --reject-with icmp-port-unreachable
COMMIT
# Completed on Wed May 24 10:06:09 2017


# 命令行添加防火墙策略
iptables -t filter -A INPUT -p tcp -m tcp --dport 8888 -s localhost -j ACCEPT
iptables -t filter -A INPUT -p tcp -m tcp --dport 8888 -j REJECT
service iptables save
service iptables restart


# 参考 http://www.cnblogs.com/JemBai/archive/2009/03/19/1416364.html
# http://www.centoscn.com/CentOS/2016/0226/6801.html

# 允许本地回环接口(即运行本机访问本机) 
# iptables -A INPUT -s 127.0.0.1 -d 127.0.0.1 -j ACCEPT

# 屏蔽单个IP的命令是 
# iptables -I INPUT -s 123.45.6.7 -j DROP 
# 封整个段即从123.0.0.1到123.255.255.254的命令 
# iptables -I INPUT -s 123.0.0.0/8 -j DROP 
# 封IP段即从123.45.0.1到123.45.255.254的命令 
# iptables -I INPUT -s 124.45.0.0/16 -j DROP 
# 封IP段即从123.45.6.1到123.45.6.254的命令是 
# iptables -I INPUT -s 123.45.6.0/24 -j DROP

# Linux主机屏蔽Ping
# iptables -A INPUT -p icmp --icmp-type 8 -s 0/0 -j DROP

# 解除设置方法
# iptables -D INPUT -p icmp --icmp-type 8 -s 0/0 -j DROP

# chkconfig –level 345 iptables on 


-A INPUT -p tcp --dport 8000 -j ACCEPT
-A OUTPUT -p tcp --sport 8000 -j ACCEPT

```